<!DOCTYPE html>
<html lang="en">
  <%- include("partials/head") %>

  <body>
    <%- include("partials/header") %>
    <!-- Carousel Section Starts -->
    <section id="hero">
      <div
        id="heroCarousel"
        class="carousel slide carousel-fade"
        data-bs-ride="carousel"
        data-bs-interval="3000"
      >
        <div class="carousel-inner">
          <!-- Slide 1 -->
          <div class="carousel-item active">
            <div class="overlay"></div>
            <img
              src="/images/business.jpg"
              class="d-block w-100"
              alt="Blog Image 1"
            />
            <div class="carousel-caption d-flex align-items-center text-start">
              <div>
                <h1 class="display-4 fw-bold">Welcome to My Blog</h1>
                <p class="lead">
                  Discover new stories and insights from amazing writers.
                </p>
                <a href="/blogs" class="btn btn-primary">Read Blogs</a>
              </div>
            </div>
          </div>

          <div class="carousel-item" data-bs-ride="carousel">
            <div class="overlay"></div>
            <img
              src="/images/fitness.jpg"
              class="d-block w-100"
              alt="Blog Image 2"
            />
            <div class="carousel-caption d-flex align-items-center text-start">
              <div>
                <h1 class="display-4 fw-bold">Write & Share Your Thoughts</h1>
                <p class="lead">
                  Express your ideas and let the world hear you.
                </p>
                <a href="/create" class="btn btn-success">Create a Blog</a>
              </div>
            </div>
          </div>

          <div class="carousel-item">
            <div class="overlay"></div>
            <img
              src="/images/spirituality.jpg"
              class="d-block w-100"
              alt="Blog Image 3"
            />
            <div class="carousel-caption d-flex align-items-center text-start">
              <div>
                <h1 class="display-4 fw-bold">Join Our Blogging Community</h1>
                <p class="lead">
                  Connect with writers and readers around the world.
                </p>
                <a href="/contact" class="btn btn-warning">Contact Us</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Carousel Controls -->
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#heroCarousel"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon"></span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#heroCarousel"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon"></span>
        </button>
      </div>
    </section>

    <!--Carousel Section Ends-->

    <div class="container mt-4 main-content">
      <a href="/create" class="btn btn-success mb-3">Create New Blog</a>
      <!--Card to show the blog Post-->
      <div class="row">
        <% if (posts.length > 0) { %> <% posts.forEach((post, index) => { %>
        <div class="col-md-4 mb-4">
          <div class="card shadow-lg">
            <div class="card-body">
              <h5 class="card-title"><%= post.title %></h5>
              <h6 class="card-subtitle mb-2 text-body-secondary">
                Posted on: <%= post.date %>
              </h6>
              <p class="card-text"><%= post.content.substring(0, 100) %>...</p>

              <div class="d-flex justify-content-between">
                <a href="/edit/<%= index %>" class="btn btn-sm btn-warning"
                  >Edit</a
                >
                <a href="/delete/<%= index %>" class="btn btn-sm btn-danger"
                  >Delete</a
                >
              </div>
            </div>
          </div>
        </div>

        <% }); %> <% } else { %>
        <p>No posts available.</p>
        <% } %>
      </div>
    </div>

    <%- include("partials/footer") %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
